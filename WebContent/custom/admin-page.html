
<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/paper-styles/color.html">
<link rel="import" href="../bower_components/paper-styles/typography.html">
<link rel="import" href="../bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="../bower_components/paper-tabs/paper-tabs.html">
<link rel="import" href="../bower_components/paper-tabs/paper-tab.html">
<link rel="import" href="../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/iron-icons/maps-icons.html">
<link rel="import" href="../bower_components/iron-icons/social-icons.html">
<link rel="import" href="../bower_components/iron-icons/notification-icons.html">
<link rel="import" href="../bower_components/iron-icons/places-icons.html">
<link rel="import" href="../bower_components/iron-icons/image-icons.html">
<link rel="import" href="custom-icons.html">

<dom-module id="admin-page">
  <template>
    <style>
      :host {
        @apply(--paper-font-common-base);
      }
      
      :host paper-toolbar {
      	--paper-toolbar-background:#33B200;
      }
      
      :host .header {
      	@apply(--paper-font-headline);
      	color:var(--paper-blue-grey-400);
      }
      
      :host .content {
      	margin-top:16px;
      }
      
      :host .emphasis {
      	@apply(--paper-font-display2);
      }
      
      :host .avi {
      	width:32px;
      	height:32px;
      	border-radius:20%;
      	background:var(--paper-light-blue-200);
      }
      
      :host .avi {
      	color:white;
      }
      
      :host .row {
      	@apply(--layout-horizontal);
      	@apply(--layout-center);
      }
      
      :host .row > * {
      	padding:8px;
      }
      
      :host .name {
      	@apply(--paper-font-display1);
      }
      
      :host .lower-case {
      	text-transform:lowercase;
      }
      
      :host .address, :host .method {
      	@apply(--paper-font-caption);
      }
      
      :host .method {
      	text-align:center;
      }
      
      :host .big-icon {
      	--iron-icon-height: 32px;
      	--iron-icon-width: 32px;
      }
      
      :host .flex {
      	@apply(--layout-flex);
      }
      
      :host .box {
      	min-width:32px;
      }
      
      :host .bottom-border {
      	border-bottom: 1px solid rgba(200, 200, 220, 0.6);
      }
      
      /* Small only */
      
      @media screen and (max-width: 39.9375em) {
	       .content {
	      	margin:16px;
	      }
      }
      
		/* Medium and up */
		@media screen and (min-width: 40em) {
			.content {
				max-width:60%;
				margin:0px 20%;
				background:light-blue;
			}
		}
		
		
		/* Large and up */
		@media screen and (min-width: 64em) {}
		      
    </style>
    <paper-toolbar class="medium-tall">
    	<paper-icon-button icon="menu"></paper-icon-button>
    	<div class="title">Michelle's Dream Wedding</div>
    	<div class="middle">
	    	<paper-tabs selected="0">
			  <paper-tab>All</paper-tab>
			  <paper-tab>Unregistered</paper-tab>
			  <paper-tab>Done</paper-tab>
			</paper-tabs>
    	</div>
    </paper-toolbar>
    
    <div class="content">
	    <div class="header">
	    	Guests
	    </div>
	     
	    <template is="dom-repeat" items="[[testItems]]">
	    	<div class="row bottom-border">
	    		<div class="avi" style$="[[generateAviColour()]]">
	    			<iron-icon class="big-icon" icon="[[generateAviIcon()]]"></iron-icon>
	    		</div>
	    		<div class="flex">
	    			<div class="name lower-case">[[item.name]]</div>
	    			<div class="address">[[item.from]]</div>
	    		</div>
	    		<div class="box">
	    			<iron-icon class="big-icon" icon="[[returnIcon(item.method)]]"></iron-icon>
	    			<div class="method">[[item.method]]</div>
	    		</div>
	    	</div>
	    </template>
    </div>
    
  </template>
</dom-module>

<script>
  Polymer({
    is: 'admin-page',

    behaviors: [
    ],
    
    properties:{
    	funIcons:{
    		type:Array,
    		value:function(){
    			return [
    				"image:audiotrack",
    				"image:nature-people",
    				"image:tag-faces",
    				"social:sentiment-neutral",
    				"social:sentiment-very-satisfied",
    				"social:whatshot",
    				"social:cake",
    				"places:beach-access",
    				"places:child-care",
    				"places:ac-unit",
    				"places:all-inclusive",
    				"places:free-breakfast"
    			];
    		}
    	},
    	palette:{
    		type:Array,
    		value:function(){
    			return [
    				"#9fa8da",
    				"#00bcd4",
    				"#f48fb1",
    				"#ff9800",
    				"#34515e",
    				"#ba68c8"
    			];
    		}
    	},
    	testItems:{
    		type:Array,
    		value:[
    			{
    				"name":"judy",
    				"method":"evo",
    				"from":"Lynn Valley, North Vancouver"
    			},
    			{
    				"name":"bob",
    				"method":"bus",
    				"from":"Langley"
    			},
    			
    			{
    				"name":"Joey",
    				"method":"",
    				"from":""
    			},
    			
    			{
    				"name":"Luna",
    				"method":"bike",
    				"from":"East Van"
    			}
    		]
    	}
    },
    
    attached:function(){
    	
    },
    
    returnIcon:function(method){
    	var iconMap = {
    		"evo":"custom-icons:evo",
    		"bus":"maps:directions-bus",
    		"bike":"maps:directions-bike"
    	};
    	return iconMap[method];
    },
    
    generateAviColour:function(){
    	var num = Math.floor(Math.random() * (this.palette.length + 1)) - 1;
    	if(num < 0){
    		num = 0;
    	}
    	return "background:" + this.palette[num] + ";";
    },
    
    generateAviIcon:function(){
    	var num = Math.floor(Math.random() * (this.funIcons.length + 1)) - 1;
    	if(num < 0){
    		num = 0;
    	}
    	return this.funIcons[num];
    }
  });
</script>
